(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{98789:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(52322),o=n(45392),a=n(16959),l=n(67569),c=n(49427),i=n(2784);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=function(){var e=s((0,i.useState)(!1),2),t=e[0],n=e[1],r=(0,i.useRef)(null),o=s((0,i.useState)(0),2),a=o[0],u=o[1],d=(0,c.useLatestRef)(a);return i.createElement(i.Fragment,null,i.createElement(l.Box,{mb:"4x"},"You clicked ",a," times"),i.createElement(l.Button,{disabled:t,onClick:function(){r.current&&(clearTimeout(r.current),r.current=null),r.current=setTimeout(function(){alert("Latest count value: ".concat(d.current)),r.current=null,n(!1)},3e3),n(!0)}},"Show Alert In 5 Seconds"),i.createElement(l.Space,{width:"2x"}),i.createElement(l.Button,{disabled:!t,onClick:function(){return u(a+1)}},"Click Me"))};function f(e){var t=Object.assign({div:"div",h1:"h1",p:"p",h2:"h2",a:"a",svg:"svg",use:"use",pre:"pre",code:"code",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,o.ah)(),e.components);return(0,r.jsxs)(t.div,{className:"main-content",id:"main-content",children:["\n","\n",(0,r.jsx)(t.h1,{id:"uselatestref",children:"useLatestRef"}),"\n",(0,r.jsx)(t.p,{children:"A custom Hook that returns a ref object with the latest value."}),"\n",(0,r.jsx)(t.p,{children:"This is mostly useful to get access to the latest value of some props or state inside an asynchronous callback, instead of that value at the time the callback was created from."}),"\n",(0,r.jsxs)(t.h2,{id:"import",children:["Import",(0,r.jsx)(t.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#import",children:(0,r.jsx)(t.svg,{children:(0,r.jsx)(t.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"import { useLatestRef } from '@tonic-ui/react-hooks';\n"})}),"\n",(0,r.jsxs)(t.h2,{id:"usage",children:["Usage",(0,r.jsx)(t.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#usage",children:(0,r.jsx)(t.svg,{children:(0,r.jsx)(t.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"const ref = useLatestRef(value);\n"})}),"\n",(0,r.jsxs)(t.h3,{id:"parameters",children:["Parameters",(0,r.jsx)(t.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#parameters",children:(0,r.jsx)(t.svg,{children:(0,r.jsx)(t.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{align:"left",children:"Name"}),(0,r.jsx)(t.th,{align:"left",children:"Type"}),(0,r.jsx)(t.th,{align:"left",children:"Default"}),(0,r.jsx)(t.th,{align:"left",children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{align:"left",children:"value"}),(0,r.jsx)(t.td,{align:"left",children:"any"}),(0,r.jsx)(t.td,{align:"left"}),(0,r.jsx)(t.td,{align:"left",children:"The latest value."})]})})]}),"\n",(0,r.jsxs)(t.h3,{id:"returns",children:["Returns",(0,r.jsx)(t.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#returns",children:(0,r.jsx)(t.svg,{children:(0,r.jsx)(t.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,r.jsxs)(t.p,{children:["Returns a ref object with the ",(0,r.jsx)(t.code,{children:"current"})," property set to the latest value."]}),"\n",(0,r.jsxs)(t.h2,{id:"demos",children:["Demos",(0,r.jsx)(t.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#demos",children:(0,r.jsx)(t.svg,{children:(0,r.jsx)(t.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,r.jsx)(a.Z,{component:d,file:{data:"import { Box, Button, Space } from '@tonic-ui/react';\nimport { useLatestRef } from '@tonic-ui/react-hooks';\nimport React, { useRef, useState } from 'react';\n\nconst App = () => {\n  const [countdownMode, setCountdownMode] = useState(false);\n  const timeoutRef = useRef(null);\n  const [count, setCount] = useState(0);\n  const latestRef = useLatestRef(count);\n\n  function handleAlertClick() {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = null;\n    }\n    timeoutRef.current = setTimeout(() => {\n      alert(`Latest count value: ${latestRef.current}`);\n      timeoutRef.current = null;\n      setCountdownMode(false);\n    }, 3000);\n    setCountdownMode(true);\n  }\n\n  return (\n    <>\n      <Box mb=\"4x\">\n        You clicked {count} times\n      </Box>\n      <Button disabled={countdownMode} onClick={handleAlertClick}>\n        Show Alert In 5 Seconds\n      </Button>\n      <Space width=\"2x\" />\n      <Button disabled={!countdownMode} onClick={() => setCount(count + 1)}>\n        Click Me\n      </Button>\n    </>\n  );\n};\n\nexport default App;",path:"pages/hooks/useLatestRef.page.mdx"},sandbox:{files:{},raw:"import { Box, Button, Space } from '@tonic-ui/react';\nimport { useLatestRef } from '@tonic-ui/react-hooks';\nimport React, { useRef, useState } from 'react';\n\nconst App = () => {\n  const [countdownMode, setCountdownMode] = useState(false);\n  const timeoutRef = useRef(null);\n  const [count, setCount] = useState(0);\n  const latestRef = useLatestRef(count);\n\n  function handleAlertClick() {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = null;\n    }\n    timeoutRef.current = setTimeout(() => {\n      alert(`Latest count value: ${latestRef.current}`);\n      timeoutRef.current = null;\n      setCountdownMode(false);\n    }, 3000);\n    setCountdownMode(true);\n  }\n\n  return (\n    <>\n      <Box mb=\"4x\">\n        You clicked {count} times\n      </Box>\n      <Button disabled={countdownMode} onClick={handleAlertClick}>\n        Show Alert In 5 Seconds\n      </Button>\n      <Space width=\"2x\" />\n      <Button disabled={!countdownMode} onClick={() => setCount(count + 1)}>\n        Click Me\n      </Button>\n    </>\n  );\n};\n\nexport default App;",title:"Tonic UI"}})]})}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},(0,o.ah)(),e.components).wrapper;return t?(0,r.jsx)(t,Object.assign({},e,{children:(0,r.jsx)(f,e)})):f(e)}},16959:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(67569),o=n(49427),a=n(5632),l=n(2784),c=n(65245),i=n(16245),s=n(76761),u=n(73205),d=n(98107),f=["size"];function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=(0,l.forwardRef)(function(e,t){var n=e.size,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,f);return l.createElement(r.SVGIcon,h({size:n,viewBox:"0 0 1024 1024"},o),l.createElement("path",{d:"M755 140.3l0.5-0.3h0.3L512 0 268.3 140h-0.3l0.8 0.4L68.6 256v512L512 1024l443.4-256V256L755 140.3z m-30 506.4v171.2L548 920.1V534.7L883.4 341v215.7l-158.4 90z m-584.4-90.6V340.8L476 534.4v385.7L300 818.5V646.7l-159.4-90.6zM511.7 280l171.1-98.3 166.3 96-336.9 194.5-337-194.6 165.7-95.7L511.7 280z"}))});m.displayName="CodeSandboxIcon";var p=n(44285);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j={fontFamily:'"SFMono-Medium", "SF Mono", "Segoe UI Mono", Menlo, Consolas, Courier, monospace',fontSize:14,overflowX:"auto"},y=function(e){var t=e.component,n=e.file,f=e.sandbox,h=(0,a.useRouter)(),b=x((0,l.useReducer)(function(e){return!e},!1),2),y=b[0],k=b[1],v=x((0,r.useColorMode)(),1)[0],g={dark:s.y,light:s.q}[v],C=x((0,o.useToggle)(!1),2),w=C[0],S=C[1],R=(0,i.Z)(null==n?void 0:n.data),E=R.onCopy,B=R.hasCopied,O=(0,l.useCallback)(function(){E()},[E]),M=(0,l.useCallback)(function(){(0,u.b)(f)},[f]),A=(0,l.useCallback)(function(){k(),S(!1)},[k,S]);return l.createElement(c.nu,{code:null==n?void 0:n.data,disabled:!0,language:"jsx",theme:g},l.createElement(r.Box,{border:1,borderColor:{dark:"gray:70",light:"gray:30"}[v],p:"4x"},l.createElement(r.Box,{fontSize:"sm",lineHeight:"sm"},l.createElement(l.Fragment,{key:y},l.createElement(t,null)))),l.createElement(r.Flex,{columnGap:"2x",justifyContent:"flex-end",mb:"4x"},l.createElement(p.Z,{"data-track":w?"CodeBlock|hide_source|".concat((0,d.Z)({path:h.pathname})):"CodeBlock|show_source|".concat((0,d.Z)({path:h.pathname})),onClick:S},l.createElement(r.Tooltip,{label:w?"Hide the source":"Show the source"},l.createElement(r.Icon,{icon:"code",size:{sm:"5x",md:"4x"}}))),l.createElement(p.Z,{"data-track":"CodeBlock|copy_source|".concat((0,d.Z)({path:h.pathname})),onClick:O},l.createElement(r.Tooltip,{label:B?"Copied":"Copy the source"},l.createElement(r.Icon,{icon:"file-copy-o",size:{sm:"5x",md:"4x"}}))),l.createElement(p.Z,{"data-track":"CodeBlock|edit_in_codesandbox|".concat(h.pathname),onClick:M},l.createElement(r.Tooltip,{label:"Edit in CodeSandbox"},l.createElement(m,{size:{sm:"5x",md:"4x"}}))),l.createElement(p.Z,{"data-track":"CodeBlock|reset|".concat(h.pathname),onClick:A},l.createElement(r.Tooltip,{label:"Reset the demo"},l.createElement(r.Icon,{icon:"redo",size:{sm:"5x",md:"4x"}})))),l.createElement(r.Fade,{in:w},l.createElement(r.Collapse,{in:w,unmountOnExit:!0},l.createElement(c.uz,{style:j}))))};y.displayName="Demo";var k=y},59301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hooks/useLatestRef",function(){return n(98789)}])}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=59301)}),_N_E=e.O()}]);