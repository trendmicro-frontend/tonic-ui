# Modal (Dialog)

A dialog is a window overlaid on either the primary window or another dialog
window. Contents behind a modal dialog are **inert** meaning that users cannot
interact with content behind the dialog.

## Import

Trend Micro Styled UI exports 5 components to help you create any modal dialog.

- `Modal`: The wrapper that provides context for its children
- `ModalHeader`: The header that labels the modal dialog
- `ModalFooter`: The footer that houses the modal actions
- `ModalBody`: The wrapper that houses the modal's main content
- `ModalCloseButton`: The button that closes the modal.

```js
import {
  Modal,
  ModalHeader,
  ModalFooter,
  ModalBody,
  ModalCloseButton,
} from '@trendmicro/react-styled-ui';
```

## Usage

When the modal opens, focus is sent into the modal and set to the first tabbable
element. If there are no tabbled element, focus is set on the `ModalContent`.

```jsx
function BasicUsage() {
  const { isOpen, onOpen, onClose } = useDisclosure();
  return (
    <>
      <Button onClick={onOpen}>Open Modal</Button>

      <Modal isOpen={isOpen} onClose={onClose}>
        <ModalHeader title="Modal Title">Modal Title</ModalHeader>
        <ModalBody>
          <Lorem count={10} />
        </ModalBody>
        <ModalFooter>
          <Button mr="2x" variant="primary">Submit</Button>
          <Button onClick={onClose}>
            Cancel
          </Button>
        </ModalFooter>
      </Modal>
    </>
  );
}
```

### Sizes

Pass the `size` prop if you need to adjust the size of the modal. Values can be
`xs`, `sm`, `md`, `lg`, `xl`, or `full`.

```jsx
function SizeExample() {
  const { isOpen, onOpen, onClose } = useDisclosure();
  const [size, setSize] = React.useState("md");

  const handleSizeClick = newSize => {
    setSize(newSize);
    onOpen();
  };

  const sizes = ["xs", "sm", "md", "lg", "xl", "full"];

  return (
    <>
      {sizes.map(size => (
        <Button
          onClick={() => handleSizeClick(size)}
          key={size}
          m={4}
        >{`Open ${size} Modal`}</Button>
      ))}

      <Modal onClose={onClose} size={size} isOpen={isOpen}>
        <ModalHeader>Modal Title</ModalHeader>
        <ModalBody>
          <Lorem count={2} />
        </ModalBody>
        <ModalFooter>
          <Button onClick={onClose}>Close</Button>
        </ModalFooter>
      </Modal>
    </>
  );
}
```

### Multiple Modals

```jsx
function MultipleModalUsage() {
  const { isOpen, onOpen, onClose } = useDisclosure();
  const { isOpen: isOpen2, onOpen: onOpen2, onClose: onClose2 } = useDisclosure();
  return (
    <>
      <Button onClick={onOpen}>Open Modal</Button>

      <Modal size="md" isOpen={isOpen} onClose={onClose}>
        <ModalHeader title="Modal Title">Modal 1 Title</ModalHeader>
        <ModalCloseButton />
        <ModalBody>
          Modal 1 Body
          <Lorem count={10} />
        </ModalBody>
        <ModalFooter>
          <Button mr="2x" variant="emphasis" disabled={!isOpen2} onClick={onClose2}>Close Modal 2</Button>
          <Button mr="2x" variant="emphasis" disabled={isOpen2} onClick={onOpen2}>Open Modal 2</Button>
          <Button onClick={onClose}>
            Cancel
          </Button>
        </ModalFooter>
      </Modal>

      <Modal size="sm" isOpen={isOpen2} onClose={onClose2}>
        <ModalHeader title="Modal Title2">Modal 2 Title</ModalHeader>
        <ModalCloseButton />
        <ModalBody>
          Modal 2 Body
          <Lorem count={2} />
        </ModalBody>
        <ModalFooter>
          <Button mr="2x" variant="primary" disabled={!isOpen} onClick={onClose}>Close Modal 1</Button>
          <Button mr="2x" variant="primary" disabled={isOpen} onClick={onOpen}>Open Modal 1</Button>
          <Button onClick={onClose2}>
            Cancel
          </Button>
        </ModalFooter>
      </Modal>
    </>
  );
}
```

### Header and closed button

```jsx
function Example() {
  const { isOpen, onOpen, onClose } = useDisclosure();
  const { isOpen: isOpen2, onOpen: onOpen2, onClose: onClose2 } = useDisclosure();
  const { isOpen: isOpen3, onOpen: onOpen3, onClose: onClose3 } = useDisclosure();
  return (
    <>
      <Button m="2x" onClick={onOpen}>Open Modal without close button</Button>
      <Button m="2x" onClick={onOpen2}>Open Modal without header and close button</Button>
      <Button m="2x" onClick={onOpen3}>Open Modal without header</Button>

      <Modal isOpen={isOpen} onClose={onClose}>
        <ModalHeader hideCloseButton title="Modal Title">Modal Title</ModalHeader>
        <ModalBody>
          <Lorem count={2} />
        </ModalBody>
        <ModalFooter>
          <Button mr="2x" variant="primary">Submit</Button>
          <Button onClick={onClose}>
            Cancel
          </Button>
        </ModalFooter>
      </Modal>

      <Modal isOpen={isOpen2} onClose={onClose2}>
        <ModalBody>
          <Lorem count={2} />
        </ModalBody>
        <ModalFooter>
          <Button mr="2x" variant="primary">Submit</Button>
          <Button onClick={onClose2}>
            Cancel
          </Button>
        </ModalFooter>
      </Modal>

      <Modal isOpen={isOpen3} onClose={onClose3}>
        <ModalCloseButton />
        <ModalBody>
          <Lorem count={2} />
        </ModalBody>
        <ModalFooter>
          <Button mr="2x" variant="primary">Submit</Button>
          <Button onClick={onClose3}>
            Cancel
          </Button>
        </ModalFooter>
      </Modal>
    </>
  );
}
```

## Props

### Modal Props

| Name               | Type              | Default                  | Description |
| :----------------- | :---------------- | :----------------------- | :--------------------- |
| isOpen             | boolean           |                          | If `true`, the modal is shown |
| size        | `'xs'`, `'sm'`, `'md'`, `'lg'`, `'xl'`, `'full'` |  `'md'`                  | The size of the modal |
| closeOnEsc         | boolean           | `false`                   | If `true`, close the modal when the `esc` key is pressed |
| closeOnOverlayClick | boolean          | `false`                   | If `true`, close the modal when click outside of the modal |
| onOpen             | () => void        |                          | Callback fired when the modal opens |
| onClose            | () => void        |                          | Callback fired when the modal closes |

### Other Props
- `ModalHeader`, `ModalFooter` and `ModalBody` composes [`Box`](./box).
- `ModalCloseButton` based on [`ButtonBase`](./buttonbase)
