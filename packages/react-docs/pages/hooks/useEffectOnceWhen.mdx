# useEffectOnceWhen

A custom Hook similar to `useEffectOnce`, but only runs once when a condition is met.

```js
// import
import { useEffectOnceWhen } from '@tonic-ui/react-hooks';

// usage
useEffectOnceWhen(effect, when);
```

### Parameters

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| effect | `() => void` | | The effect to run. |
| when | boolean | false | The condition to run the effect. |

### Example

```jsx
function Component() {
  const [state, setState] = React.useState('idle');

  useEffectOnceWhen(() => {
    setTimeout(() => {
      setState('loaded');
    }, 3000); // Countdown for 3 seconds
  }, (state === 'loading'));

  return (
    <>
      {state === 'idle' && (
        <Button onClick={() => setState('loading')}>
          Click To Run
        </Button>
      )}
      {state === 'loading' && 'Loading component (will be gone in 3 seconds)...'}
      {state === 'loaded' && 'Component loaded!'}
    </>
  );
}
```
