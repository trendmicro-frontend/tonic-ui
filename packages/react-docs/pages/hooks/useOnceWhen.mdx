# useOnceWhen

A custom Hook that runs a callback at most once when a condition becomes true.

## Import

```js
import { useOnceWhen } from '@tonic-ui/react-hooks';
```

```js
import { useRef } from 'react';

const useOnceWhen = (callback, when = false) => {
  const ref = useRef(false);
  if (when && !ref.current) {
    if (typeof callback === 'function') {
      callback();
    }
    ref.current = true;
  }
};
```

## Usage

```jsx
function Component() {
  const [value, setValue] = React.useState(0);
  const ref = React.useRef(0);

  useOnceWhen(() => {
    console.log('This will run only once when clicked');
    ref.current++;
  }, (value > 0));

  return (
    <>
      <Box mb="4x">
        Callback called: {ref.current}
      </Box>
      <Button onClick={() => setValue(value => value + 1)}>
        Click Me
      </Button>
    </>
  );
}
```
