# Tree View

The `TreeView` component allows you to present information in a hierarchical, nested list format. It is particularly useful for visualizing structures like files and folders in a file system, categories and items in a list, or any other kind of nested arrangement that requires exploration.

## Import

```js
import {
  TreeItem,
  TreeItemContent,
  TreeItemToggle,
  TreeItemToggleIcon,
  TreeView,
  useTreeItem,
  useTreeView,
} from '@tonic-ui/react';
```

## Usage

### Basic tree view

You can enable node selection and unselection by setting `isSelectable` and `isUnselectable` props to `true`.

{render('./basic')}

### Dropdown

{render('./dropdown')}

### Multi-selection

To enable the selection of multiple nodes, use the `multiSelect` prop.

You can try the following keyboard shortcuts:
* Press arrow keys to navigate between nodes.
* Press the `Space` key to toggle the selection of a node.
* Press the `Ctrl` key and click the left mouse button to select or unselect a node without affecting the current selection.
* Press the `Shift` key and click the left mouse button to select a range of nodes from the current node to the clicked node.

Refer to the [Accessibility](#accessibility) section for more keyboard shortcuts.

{render('./multi-selection')}

When using checkboxes for multi-selection, consider hiding the background color of the tree node when the checkbox is selected to enhance accessibility.

```jsx disabled
<TreeItem
  key={node.id}
  nodeId={node.id}
  render={({ isSelected }) => {
    return (
      <TreeItemContent
        sx={{
          // Hide the background color of the tree node when the checkbox is selected
          backgroundColor: isSelected ? 'transparent' : undefined,
        }}
      >
        {/* Render your tree node content */}
      </TreeItemContent>
    );
  }}
/>
```

{render('./multi-selection-checkboxes')}

### Controlled tree view

{render('./controlled')}

### Resizable tree view

In typical use cases, you can resize the tree view with a minimum width of `160px` and a maximum width of `40%` of the display area. Customize the width and height as needed to match your design and layout requirements.

{render('./resizable')}

### Moving items through drag and drop (DnD)

Select items from the right table and move them to a tree node on the left using drag-and-drop (DnD) interaction.

{render('./dnd')}

### Load on demand

{render('./load-on-demand')}

## Accessibility

The `TreeView` component supports both keyboard and mouse navigation and selection.
The following keyboard shortcuts are available:

* Use the `Up` and `Down` arrow keys to navigate between nodes.
* Use the `Left` and `Right` arrow keys to expand/collapse a node.
* Use the `Enter` key to toggle either the expansion or selection of a node.
* Use the `Space` key to toggle the selection of a node.
* Use the `Home` and `End` keys to quickly navigate to the first or last node.
* Hold down the `Ctrl` key and click the left mouse button to select or unselect a node without affecting the current selection.
* Hold down the `Shift` key and click the left mouse button to select a range of nodes from the current node to the clicked node.
* Use `Ctrl`+`Shift`+`Home` keys to select a range of nodes from the current node to the first node.
* Use `Ctrl`+`Shift`+`End` keys to select a range of nodes from the current node to the last node.
* Use `Ctrl`+`a` keys to select all nodes.

## Props

### TreeView

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| defaultExpandedNodes | array | [] | An array of expanded node IDs for initial state (uncontrolled). |
| defaultSelectedNodes | array | [] | An array of selected node IDs for initial state (uncontrolled). |
| expandedNodes | array | | An array of expanded node IDs for controlled state. |
| id | string | | The `id` prop used for accessibility purpose. If not provided, a random id will be generated. |
| isSelectable | bool | false | Determines if the tree view allows node selection. |
| isUnselectable | bool | false | Determines if the tree view allows node unselection. |
| multiSelect | bool | false | If true, `ctrl` and `shift` will trigger multiselect. |
| onNodeFocus | function | | A callback function invoked when a tree node is focused.<pre>`function(nodeId: string) => void`<br /> • `nodeId` The id of the focused node.</pre> |
| onNodeSelect | function | | A callback function triggered when tree nodes are selected/unselected.<pre>`function(nodeIds: Array<string>) => void`<br /> • `nodeIds` An array of selected node IDs.</pre> |
| onNodeToggle | function | | A callback function triggered when tree nodes are expanded/collapsed.<pre>`function(nodeIds: Array<string>) => void`<br /> • `nodeIds` An array of expanded node IDs.</pre> |
| selectedNodes | array | | An array of selected node IDs for controlled state. |

### TreeItem

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| TransitionComponent | ElementType | Collapse | The component used for the transition. |
| TransitionProps | object | | Props applied to the [Transition](http://reactcommunity.org/react-transition-group/transition#Transition-props) element. |
| children | ReactNode | | The children of the tree item. |
| disabled | bool | false | Determines if the tree item is disabled. |
| nodeId | string | | `REQUIRED` The id of the node. |
| render | `(context: TreeItemContext) => ReactNode` | | `REQUIRED` A function to render the tree item content.<br /><pre>type TreeItemContext = {'{'}<br />  nodeDepth: number;<br />  nodeId: string;<br />  isDisabled: boolean;<br />  isExpandable: boolean;<br />  isExpanded: boolean;<br />  isFocused: boolean;<br />  isSelected: boolean;<br />  select: () => void;<br />  selectRange: () => void;<br />  toggleExpansion: () => void;<br />  toggleSelection: () => void;<br />{'};'}</pre> |

### TreeItemContent

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| children | ReactNode | | The children of the tree item content. |
