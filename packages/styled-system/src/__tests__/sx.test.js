import { sx } from '@tonic-ui/styled-system/src';

const defaultTheme = {
  borders: {
    1: '.0625rem solid',
    2: '.125rem solid',
    3: '.1875rem solid',
    4: '.25rem solid',
    5: '.3125rem solid',
  },
  breakpoints: [
    '320px',
    '640px',
    '1024px',
    '1280px',
    '1680px',
  ],
  colors: {
    transparent: 'transparent',
    current: 'currentColor',
    'red:100': '#6e0002',
    'red:90': '#9d0003',
    'red:80': '#b80003',
    'red:70': '#d71920',
    'red:60': '#e52630',
    'red:50': '#f24c4f',
    'red:40': '#f46f71',
    'red:30': '#fd999a',
    'red:20': '#fcc3c4',
    'red:10': '#fee1e2',
    'magenta:100': '#750037',
    'magenta:90': '#960043',
    'magenta:80': '#b3004c',
    'magenta:70': '#ca0455',
    'magenta:60': '#dc1d68',
    'magenta:50': '#e94181',
    'magenta:40': '#f36fa0',
    'magenta:30': '#f9a0c1',
    'magenta:20': '#fcc3d8',
    'magenta:10': '#fee1ec',
    'purple:100': '#460086',
    'purple:90': '#5300a5',
    'purple:80': '#6304ca',
    'purple:70': '#771ddc',
    'purple:60': '#8f41e9',
    'purple:50': '#ab6ff3',
    'purple:40': '#bb89f6',
    'purple:30': '#cca6f9',
    'purple:20': '#ddc3fc',
    'purple:10': '#eee1fe',
    'blue:100': '#002a7e',
    'blue:90': '#00349d',
    'blue:80': '#003db8',
    'blue:70': '#0547cd',
    'blue:60': '#1e5ede',
    'blue:50': '#578aef',
    'blue:40': '#6f9bf4',
    'blue:30': '#95b7fc',
    'blue:20': '#c3d6fc',
    'blue:10': '#e1ebfe',
    'green:100': '#003011',
    'green:90': '#00461a',
    'green:80': '#005c24',
    'green:70': '#00712e',
    'green:60': '#008539',
    'green:50': '#00a94f',
    'green:40': '#04c45a',
    'green:30': '#40e884',
    'green:20': '#89f6b2',
    'green:10': '#c3fcd8',
    'teal:100': '#004034',
    'teal:90': '#005242',
    'teal:80': '#006451',
    'teal:70': '#00755f',
    'teal:60': '#00866c',
    'teal:50': '#00a584',
    'teal:40': '#04caa1',
    'teal:30': '#41e9c5',
    'teal:20': '#89f6df',
    'teal:10': '#c3fcf0',
    'cyan:100': '#003664',
    'cyan:90': '#004575',
    'cyan:80': '#005486',
    'cyan:70': '#006496',
    'cyan:60': '#0075a5',
    'cyan:50': '#0095bf',
    'cyan:40': '#10b4d3',
    'cyan:30': '#41d8e9',
    'cyan:20': '#89f0f6',
    'cyan:10': '#c3f9fc',
    'gray:100': '#151515',
    'gray:90': '#212121',
    'gray:80': '#303030',
    'gray:70': '#424242',
    'gray:60': '#5e5e5e',
    'gray:50': '#8a8a8a',
    'gray:40': '#adadad',
    'gray:30': '#c9c9c9',
    'gray:20': '#e0e0e0',
    'gray:10': '#f2f2f2',
    'orange:50': '#ff7633',
    'yellow:50': '#faba2a',
    'white:emphasis': 'rgba(255, 255, 255, 1.0)',
    'white:primary': 'rgba(255, 255, 255, .92)',
    'white:secondary': 'rgba(255, 255, 255, .60)',
    'white:tertiary': 'rgba(255, 255, 255, .47)',
    'white:disabled': 'rgba(255, 255, 255, .28)',
    'black:emphasis': 'rgba(0, 0, 0, 1.0)',
    'black:primary': 'rgba(0, 0, 0, .92)',
    'black:secondary': 'rgba(0, 0, 0, .65)',
    'black:tertiary': 'rgba(0, 0, 0, .54)',
    'black:disabled': 'rgba(0, 0, 0, .30)',
  },
  fonts: {
    base: '"Segoe UI", -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif',
    mono: '"Segoe UI Mono", "SFMono-Medium", "SF Mono", Menlo, Consolas, Courier, monospace',
  },
  fontSizes: {
    xs: '.75rem',
    sm: '.875rem',
    md: '1rem',
    lg: '1.125rem',
    xl: '1.25rem',
    '2xl': '1.5rem',
    '3xl': '1.75rem',
    '4xl': '2rem',
  },
  fontWeights: {
    thin: 100,
    extralight: 200,
    light: 300,
    normal: 400,
    medium: 500,
    semibold: 600,
    bold: 700,
    extrabold: 800,
    black: 900,
  },
  lineHeights: {
    normal: 'normal',
    base: '1.5',
    xs: '1.125rem',
    sm: '1.25rem',
    md: '1.375rem',
    lg: '1.5rem',
    xl: '1.75rem',
    '2xl': '2rem',
    '3xl': '2.25rem',
    '4xl': '2.5rem',
  },
  outlines: {
    1: '.0625rem solid',
    2: '.125rem solid',
    3: '.1875rem solid',
    4: '.25rem solid',
    5: '.3125rem solid',
  },
  radii: {
    circle: '50%',
    none: 0,
    sm: '.1875rem',
    md: '.375rem',
    lg: '.75rem',
  },
  shadows: {
    none: 'none',
  },
  sizes: {
    '1q': '.0625rem',
    '2q': '.125rem',
    '3q': '.1875rem',
    '4q': '.25rem',
    '5q': '.3125rem',
    '6q': '.375rem',
    '7q': '.4375rem',
    '8q': '.5rem',
    '9q': '.5625rem',
    '10q': '.625rem',
    '1h': '.125rem',
    '2h': '.25rem',
    '3h': '.375rem',
    '4h': '.5rem',
    '5h': '.625rem',
    '6h': '.75rem',
    '7h': '.875rem',
    '8h': '1rem',
    '9h': '1.125rem',
    '10h': '1.25rem',
    '1x': '.25rem',
    '2x': '.5rem',
    '3x': '.75rem',
    '4x': '1rem',
    '5x': '1.25rem',
    '6x': '1.5rem',
    '7x': '1.75rem',
    '8x': '2rem',
    '9x': '2.25rem',
    '10x': '2.5rem',
    '11x': '2.75rem',
    '12x': '3rem',
    '13x': '3.25rem',
    '14x': '3.5rem',
    '15x': '3.75rem',
    '16x': '4rem',
    '17x': '4.25rem',
    '18x': '4.5rem',
    '19x': '4.75rem',
    '20x': '5rem',
    '24x': '6rem',
    '32x': '8rem',
    '40x': '10rem',
    '48x': '12rem',
    '56x': '14rem',
    '64x': '16rem',
  },
  space: {
    '1q': '.0625rem',
    '2q': '.125rem',
    '3q': '.1875rem',
    '4q': '.25rem',
    '5q': '.3125rem',
    '6q': '.375rem',
    '7q': '.4375rem',
    '8q': '.5rem',
    '9q': '.5625rem',
    '10q': '.625rem',
    '1h': '.125rem',
    '2h': '.25rem',
    '3h': '.375rem',
    '4h': '.5rem',
    '5h': '.625rem',
    '6h': '.75rem',
    '7h': '.875rem',
    '8h': '1rem',
    '9h': '1.125rem',
    '10h': '1.25rem',
    '1x': '.25rem',
    '2x': '.5rem',
    '3x': '.75rem',
    '4x': '1rem',
    '5x': '1.25rem',
    '6x': '1.5rem',
    '7x': '1.75rem',
    '8x': '2rem',
    '9x': '2.25rem',
    '10x': '2.5rem',
    '11x': '2.75rem',
    '12x': '3rem',
    '13x': '3.25rem',
    '14x': '3.5rem',
    '15x': '3.75rem',
    '16x': '4rem',
    '17x': '4.25rem',
    '18x': '4.5rem',
    '19x': '4.75rem',
    '20x': '5rem',
    '24x': '6rem',
    '32x': '8rem',
    '40x': '10rem',
    '48x': '12rem',
    '56x': '14rem',
    '64x': '16rem',
  },
  zIndices: {
    hide: -1,
    auto: 'auto',
    base: 0,
    dropdown: 1000,
    sticky: 1100,
    fixed: 1200,
    overlay: 1300,
    drawer: 1400,
    modal: 1500,
    popover: 1600,
    toast: 1700,
    tooltip: 1800,
  },
};

test('should pass', () => {
  const theme = {
    ...defaultTheme,
    config: {
      prefix: 'tonic',
      useCSSVariables: true,
    },
    __cssVariableMap: {
      '--tonic-borders-1': '.0625rem solid',
      '--tonic-borders-2': '.125rem solid',
      '--tonic-borders-3': '.1875rem solid',
      '--tonic-borders-4': '.25rem solid',
      '--tonic-borders-5': '.3125rem solid',
      '--tonic-breakpoints-0': '320px',
      '--tonic-breakpoints-1': '640px',
      '--tonic-breakpoints-2': '1024px',
      '--tonic-breakpoints-3': '1280px',
      '--tonic-breakpoints-4': '1680px',
      '--tonic-breakpoints-sm': '320px',
      '--tonic-breakpoints-md': '640px',
      '--tonic-breakpoints-lg': '1024px',
      '--tonic-breakpoints-xl': '1280px',
      '--tonic-breakpoints-2xl': '1680px',
      '--tonic-colors-transparent': 'transparent',
      '--tonic-colors-current': 'currentColor',
      '--tonic-colors-red-100': '#6e0002',
      '--tonic-colors-red-90': '#9d0003',
      '--tonic-colors-red-80': '#b80003',
      '--tonic-colors-red-70': '#d71920',
      '--tonic-colors-red-60': '#e52630',
      '--tonic-colors-red-50': '#f24c4f',
      '--tonic-colors-red-40': '#f46f71',
      '--tonic-colors-red-30': '#fd999a',
      '--tonic-colors-red-20': '#fcc3c4',
      '--tonic-colors-red-10': '#fee1e2',
      '--tonic-colors-magenta-100': '#750037',
      '--tonic-colors-magenta-90': '#960043',
      '--tonic-colors-magenta-80': '#b3004c',
      '--tonic-colors-magenta-70': '#ca0455',
      '--tonic-colors-magenta-60': '#dc1d68',
      '--tonic-colors-magenta-50': '#e94181',
      '--tonic-colors-magenta-40': '#f36fa0',
      '--tonic-colors-magenta-30': '#f9a0c1',
      '--tonic-colors-magenta-20': '#fcc3d8',
      '--tonic-colors-magenta-10': '#fee1ec',
      '--tonic-colors-purple-100': '#460086',
      '--tonic-colors-purple-90': '#5300a5',
      '--tonic-colors-purple-80': '#6304ca',
      '--tonic-colors-purple-70': '#771ddc',
      '--tonic-colors-purple-60': '#8f41e9',
      '--tonic-colors-purple-50': '#ab6ff3',
      '--tonic-colors-purple-40': '#bb89f6',
      '--tonic-colors-purple-30': '#cca6f9',
      '--tonic-colors-purple-20': '#ddc3fc',
      '--tonic-colors-purple-10': '#eee1fe',
      '--tonic-colors-blue-100': '#002a7e',
      '--tonic-colors-blue-90': '#00349d',
      '--tonic-colors-blue-80': '#003db8',
      '--tonic-colors-blue-70': '#0547cd',
      '--tonic-colors-blue-60': '#1e5ede',
      '--tonic-colors-blue-50': '#578aef',
      '--tonic-colors-blue-40': '#6f9bf4',
      '--tonic-colors-blue-30': '#95b7fc',
      '--tonic-colors-blue-20': '#c3d6fc',
      '--tonic-colors-blue-10': '#e1ebfe',
      '--tonic-colors-green-100': '#003011',
      '--tonic-colors-green-90': '#00461a',
      '--tonic-colors-green-80': '#005c24',
      '--tonic-colors-green-70': '#00712e',
      '--tonic-colors-green-60': '#008539',
      '--tonic-colors-green-50': '#00a94f',
      '--tonic-colors-green-40': '#04c45a',
      '--tonic-colors-green-30': '#40e884',
      '--tonic-colors-green-20': '#89f6b2',
      '--tonic-colors-green-10': '#c3fcd8',
      '--tonic-colors-teal-100': '#004034',
      '--tonic-colors-teal-90': '#005242',
      '--tonic-colors-teal-80': '#006451',
      '--tonic-colors-teal-70': '#00755f',
      '--tonic-colors-teal-60': '#00866c',
      '--tonic-colors-teal-50': '#00a584',
      '--tonic-colors-teal-40': '#04caa1',
      '--tonic-colors-teal-30': '#41e9c5',
      '--tonic-colors-teal-20': '#89f6df',
      '--tonic-colors-teal-10': '#c3fcf0',
      '--tonic-colors-cyan-100': '#003664',
      '--tonic-colors-cyan-90': '#004575',
      '--tonic-colors-cyan-80': '#005486',
      '--tonic-colors-cyan-70': '#006496',
      '--tonic-colors-cyan-60': '#0075a5',
      '--tonic-colors-cyan-50': '#0095bf',
      '--tonic-colors-cyan-40': '#10b4d3',
      '--tonic-colors-cyan-30': '#41d8e9',
      '--tonic-colors-cyan-20': '#89f0f6',
      '--tonic-colors-cyan-10': '#c3f9fc',
      '--tonic-colors-gray-100': '#151515',
      '--tonic-colors-gray-90': '#212121',
      '--tonic-colors-gray-80': '#303030',
      '--tonic-colors-gray-70': '#424242',
      '--tonic-colors-gray-60': '#5e5e5e',
      '--tonic-colors-gray-50': '#8a8a8a',
      '--tonic-colors-gray-40': '#adadad',
      '--tonic-colors-gray-30': '#c9c9c9',
      '--tonic-colors-gray-20': '#e0e0e0',
      '--tonic-colors-gray-10': '#f2f2f2',
      '--tonic-colors-orange-50': '#ff7633',
      '--tonic-colors-yellow-50': '#faba2a',
      '--tonic-colors-white-emphasis': 'rgba(255, 255, 255, 1.0)',
      '--tonic-colors-white-primary': 'rgba(255, 255, 255, .92)',
      '--tonic-colors-white-secondary': 'rgba(255, 255, 255, .60)',
      '--tonic-colors-white-tertiary': 'rgba(255, 255, 255, .47)',
      '--tonic-colors-white-disabled': 'rgba(255, 255, 255, .28)',
      '--tonic-colors-black-emphasis': 'rgba(0, 0, 0, 1.0)',
      '--tonic-colors-black-primary': 'rgba(0, 0, 0, .92)',
      '--tonic-colors-black-secondary': 'rgba(0, 0, 0, .65)',
      '--tonic-colors-black-tertiary': 'rgba(0, 0, 0, .54)',
      '--tonic-colors-black-disabled': 'rgba(0, 0, 0, .30)',
      '--tonic-fonts-base': '"Segoe UI",-apple-system,BlinkMacSystemFont,"Helvetica Neue",Helvetica,Arial,sans-serif',
      '--tonic-fonts-mono': '"Segoe UI Mono","SFMono-Medium","SF Mono",Menlo,Consolas,Courier,monospace',
      '--tonic-fontSizes-xs': '.75rem',
      '--tonic-fontSizes-sm': '.875rem',
      '--tonic-fontSizes-md': '1rem',
      '--tonic-fontSizes-lg': '1.125rem',
      '--tonic-fontSizes-xl': '1.25rem',
      '--tonic-fontSizes-2xl': '1.5rem',
      '--tonic-fontSizes-3xl': '1.75rem',
      '--tonic-fontSizes-4xl': '2rem',
      '--tonic-fontWeights-thin': '100',
      '--tonic-fontWeights-extralight': '200',
      '--tonic-fontWeights-light': '300',
      '--tonic-fontWeights-normal': '400',
      '--tonic-fontWeights-medium': '500',
      '--tonic-fontWeights-semibold': '600',
      '--tonic-fontWeights-bold': '700',
      '--tonic-fontWeights-extrabold': '800',
      '--tonic-fontWeights-black': '900',
      '--tonic-lineHeights-normal': 'normal',
      '--tonic-lineHeights-base': '1.5',
      '--tonic-lineHeights-xs': '1.125rem',
      '--tonic-lineHeights-sm': '1.25rem',
      '--tonic-lineHeights-md': '1.375rem',
      '--tonic-lineHeights-lg': '1.5rem',
      '--tonic-lineHeights-xl': '1.75rem',
      '--tonic-lineHeights-2xl': '2rem',
      '--tonic-lineHeights-3xl': '2.25rem',
      '--tonic-lineHeights-4xl': '2.5rem',
      '--tonic-outlines-1': '.0625rem solid',
      '--tonic-outlines-2': '.125rem solid',
      '--tonic-outlines-3': '.1875rem solid',
      '--tonic-outlines-4': '.25rem solid',
      '--tonic-outlines-5': '.3125rem solid',
      '--tonic-radii-circle': '50%',
      '--tonic-radii-none': '0',
      '--tonic-radii-sm': '.1875rem',
      '--tonic-radii-md': '.375rem',
      '--tonic-radii-lg': '.75rem',
      '--tonic-shadows-none': 'none',
      '--tonic-sizes-1q': '.0625rem',
      '--tonic-sizes-2q': '.125rem',
      '--tonic-sizes-3q': '.1875rem',
      '--tonic-sizes-4q': '.25rem',
      '--tonic-sizes-5q': '.3125rem',
      '--tonic-sizes-6q': '.375rem',
      '--tonic-sizes-7q': '.4375rem',
      '--tonic-sizes-8q': '.5rem',
      '--tonic-sizes-9q': '.5625rem',
      '--tonic-sizes-10q': '.625rem',
      '--tonic-sizes-1h': '.125rem',
      '--tonic-sizes-2h': '.25rem',
      '--tonic-sizes-3h': '.375rem',
      '--tonic-sizes-4h': '.5rem',
      '--tonic-sizes-5h': '.625rem',
      '--tonic-sizes-6h': '.75rem',
      '--tonic-sizes-7h': '.875rem',
      '--tonic-sizes-8h': '1rem',
      '--tonic-sizes-9h': '1.125rem',
      '--tonic-sizes-10h': '1.25rem',
      '--tonic-sizes-1x': '.25rem',
      '--tonic-sizes-2x': '.5rem',
      '--tonic-sizes-3x': '.75rem',
      '--tonic-sizes-4x': '1rem',
      '--tonic-sizes-5x': '1.25rem',
      '--tonic-sizes-6x': '1.5rem',
      '--tonic-sizes-7x': '1.75rem',
      '--tonic-sizes-8x': '2rem',
      '--tonic-sizes-9x': '2.25rem',
      '--tonic-sizes-10x': '2.5rem',
      '--tonic-sizes-11x': '2.75rem',
      '--tonic-sizes-12x': '3rem',
      '--tonic-sizes-13x': '3.25rem',
      '--tonic-sizes-14x': '3.5rem',
      '--tonic-sizes-15x': '3.75rem',
      '--tonic-sizes-16x': '4rem',
      '--tonic-sizes-17x': '4.25rem',
      '--tonic-sizes-18x': '4.5rem',
      '--tonic-sizes-19x': '4.75rem',
      '--tonic-sizes-20x': '5rem',
      '--tonic-sizes-24x': '6rem',
      '--tonic-sizes-32x': '8rem',
      '--tonic-sizes-40x': '10rem',
      '--tonic-sizes-48x': '12rem',
      '--tonic-sizes-56x': '14rem',
      '--tonic-sizes-64x': '16rem',
      '--tonic-space-1q': '.0625rem',
      '--tonic-space-2q': '.125rem',
      '--tonic-space-3q': '.1875rem',
      '--tonic-space-4q': '.25rem',
      '--tonic-space-5q': '.3125rem',
      '--tonic-space-6q': '.375rem',
      '--tonic-space-7q': '.4375rem',
      '--tonic-space-8q': '.5rem',
      '--tonic-space-9q': '.5625rem',
      '--tonic-space-10q': '.625rem',
      '--tonic-space-1h': '.125rem',
      '--tonic-space-2h': '.25rem',
      '--tonic-space-3h': '.375rem',
      '--tonic-space-4h': '.5rem',
      '--tonic-space-5h': '.625rem',
      '--tonic-space-6h': '.75rem',
      '--tonic-space-7h': '.875rem',
      '--tonic-space-8h': '1rem',
      '--tonic-space-9h': '1.125rem',
      '--tonic-space-10h': '1.25rem',
      '--tonic-space-1x': '.25rem',
      '--tonic-space-2x': '.5rem',
      '--tonic-space-3x': '.75rem',
      '--tonic-space-4x': '1rem',
      '--tonic-space-5x': '1.25rem',
      '--tonic-space-6x': '1.5rem',
      '--tonic-space-7x': '1.75rem',
      '--tonic-space-8x': '2rem',
      '--tonic-space-9x': '2.25rem',
      '--tonic-space-10x': '2.5rem',
      '--tonic-space-11x': '2.75rem',
      '--tonic-space-12x': '3rem',
      '--tonic-space-13x': '3.25rem',
      '--tonic-space-14x': '3.5rem',
      '--tonic-space-15x': '3.75rem',
      '--tonic-space-16x': '4rem',
      '--tonic-space-17x': '4.25rem',
      '--tonic-space-18x': '4.5rem',
      '--tonic-space-19x': '4.75rem',
      '--tonic-space-20x': '5rem',
      '--tonic-space-24x': '6rem',
      '--tonic-space-32x': '8rem',
      '--tonic-space-40x': '10rem',
      '--tonic-space-48x': '12rem',
      '--tonic-space-56x': '14rem',
      '--tonic-space-64x': '16rem',
      '--tonic-zIndices-hide': '-1',
      '--tonic-zIndices-auto': 'auto',
      '--tonic-zIndices-base': '0',
      '--tonic-zIndices-dropdown': '1000',
      '--tonic-zIndices-sticky': '1100',
      '--tonic-zIndices-fixed': '1200',
      '--tonic-zIndices-overlay': '1300',
      '--tonic-zIndices-drawer': '1400',
      '--tonic-zIndices-modal': '1500',
      '--tonic-zIndices-popover': '1600',
      '--tonic-zIndices-toast': '1700',
      '--tonic-zIndices-tooltip': '1800',
    },
  };

  const style = sx({
    as: 'button',
    backgroundColor: 'blue:60',
    border: 'none',
    borderRadius: 'sm',
    color: 'white:primary',
    cursor: 'pointer',
    display: 'inline-flex',
    px: '3x',
    py: '2x',
    _focus: {
      ':not(:active)': { // or '&:focus:not(:active)'
        borderColor: 'blue:60',
        boxShadow: 'inset 0 0 0 var(--tonic-sizes-1q) var(--tonic-colors-blue-60), inset 0 0 0 var(--tonic-sizes-1h) var(--tonic-colors-black-emphasis)',
      },
    },
    _hover: { // or '&:hover'
      backgroundColor: 'blue:50',
    },
    _active: { // or '&:active'
      backgroundColor: 'blue:70',
    },
  })({ theme });

  expect(style).toEqual({
    as: 'button',
    backgroundColor: 'var(--tonic-colors-blue-60)',
    border: 'none',
    borderRadius: 'var(--tonic-radii-sm)',
    color: 'var(--tonic-colors-white-primary)',
    cursor: 'pointer',
    display: 'inline-flex',
    paddingBottom: 'var(--tonic-space-2x)',
    paddingLeft: 'var(--tonic-space-3x)',
    paddingRight: 'var(--tonic-space-3x)',
    paddingTop: 'var(--tonic-space-2x)',
    '&:focus,&[data-focus]': {
      ':not(:active)': {
        borderColor: 'var(--tonic-colors-blue-60)',
        boxShadow: 'inset 0 0 0 var(--tonic-sizes-1q) var(--tonic-colors-blue-60), inset 0 0 0 var(--tonic-sizes-1h) var(--tonic-colors-black-emphasis)',
      },
    },
    '&:hover,&[data-hover]': {
      'backgroundColor': 'var(--tonic-colors-blue-50)',
    },
    '&:active,&[data-active]': {
      backgroundColor: 'var(--tonic-colors-blue-70)',
    },
  });
});
